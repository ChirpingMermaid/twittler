<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
<!--     <h1>Twittler</h1>
    <center>
    <form>
      <input type="text" name="comment" id="newTweet" placeholder="comment here...">
      <input type="submit" name="submit" value="post" class="button">
    </form> -->
    <center>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('<h1>Twittler</h1>');

        var lastIndex;

        function displayTweet(index){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          $tweet.html('@<strong>' + tweet.user + '</strong>: ' + tweet.message + '<br><span>' + tweet.created_at + '</span>');
          $body.append($tweet);
        }

        function oldTweets(){
          lastIndex = streams.home.length - 1;
          for (var i = streams.home.length - 1; i >= 0; i--){
            displayTweet(i);
          }
        }

        function newTweets(){
          setInterval(function(){
            for (var i = streams.home.length - 1; i > lastIndex; i--){
              displayTweet(i);
            }
            lastIndex = streams.home.length - 1;
          }, 1000);
        }

        oldTweets();
        newTweets();

        // var highlight = function(){ $(this).addClass('highlight'); }
        // var removeHighlight = function(){ $(this).removeClass('highlight'); }
        // $('#newTweet').on('mouseenter', highlight);
        // $('#newTweet').on('mouseleave', removeHighlight);

      });

    </script>
  </body>
</html>
